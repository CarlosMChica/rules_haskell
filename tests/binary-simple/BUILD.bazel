load(
    "@rules_haskell//haskell:defs.bzl",
    "haskell_binary",
)

package(default_testonly = 1)

# TODO this fails in the sandbox with
# `    src/main/tools/linux-sandbox-pid1.cc:427:
#         "execvp(external/rules_haskell_ghc_nixpkgs/bin/ghc-pkg, 0x10758c0)": No such file or directory
# `

# TODO we can view the Bazel DAG like this:
#    bazel query 'deps(//tests/binary-simple/...)' --output graph >gr.txt
# Understand why things like rules_haskell_ghc_nixpkgs do not show up here

haskell_binary(
    name = "binary-simple",
    srcs = ["Main.hs"],
    deps = ["//tests/hackage:base"],
)
